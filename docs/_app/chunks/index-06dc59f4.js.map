{"version":3,"file":"index-06dc59f4.js","sources":["../../../../../../svelte-wallet-connector/node_modules/svelte-drag/dist/index.js","../../../../../../svelte-wallet-connector/src/lib/assets/Logo.svelte","../../../../../../svelte-wallet-connector/src/lib/MenuWrapper.svelte","../../../../../../svelte-wallet-connector/node_modules/penpal/lib/enums.js","../../../../../../svelte-wallet-connector/node_modules/penpal/lib/createDestructor.js","../../../../../../svelte-wallet-connector/node_modules/penpal/lib/createLogger.js","../../../../../../svelte-wallet-connector/node_modules/penpal/lib/parent/getOriginFromSrc.js","../../../../../../svelte-wallet-connector/node_modules/penpal/lib/errorSerialization.js","../../../../../../svelte-wallet-connector/node_modules/penpal/lib/connectCallReceiver.js","../../../../../../svelte-wallet-connector/node_modules/penpal/lib/generateId.js","../../../../../../svelte-wallet-connector/node_modules/penpal/lib/methodSerialization.js","../../../../../../svelte-wallet-connector/node_modules/penpal/lib/connectCallSender.js","../../../../../../svelte-wallet-connector/node_modules/penpal/lib/parent/handleAckMessageFactory.js","../../../../../../svelte-wallet-connector/node_modules/penpal/lib/parent/handleSynMessageFactory.js","../../../../../../svelte-wallet-connector/node_modules/penpal/lib/parent/monitorIframeRemoval.js","../../../../../../svelte-wallet-connector/node_modules/penpal/lib/startConnectionTimeout.js","../../../../../../svelte-wallet-connector/node_modules/penpal/lib/parent/validateIframeHasSrcOrSrcDoc.js","../../../../../../svelte-wallet-connector/node_modules/penpal/lib/parent/connectToChild.js","../../../../../../svelte-wallet-connector/src/lib/components/WalletSelectorIcons.svelte","../../../../../../svelte-wallet-connector/src/lib/ConnectorInside.svelte","../../../../../../svelte-wallet-connector/src/lib/Web3WalletMenu.svelte","../../../../../../svelte-wallet-connector/src/lib/_Connector.svelte"],"sourcesContent":["// src/memoize.js\nfunction memoize(fn, options) {\n  var cache = options && options.cache ? options.cache : cacheDefault;\n  var serializer = options && options.serializer ? options.serializer : serializerDefault;\n  var strategy = options && options.strategy ? options.strategy : strategyDefault;\n  return strategy(fn, {\n    cache,\n    serializer\n  });\n}\nfunction isPrimitive(value) {\n  return value == null || typeof value === \"number\" || typeof value === \"boolean\";\n}\nfunction monadic(fn, cache, serializer, arg) {\n  var cacheKey = isPrimitive(arg) ? arg : serializer(arg);\n  var computedValue = cache.get(cacheKey);\n  if (typeof computedValue === \"undefined\") {\n    computedValue = fn.call(this, arg);\n    cache.set(cacheKey, computedValue);\n  }\n  return computedValue;\n}\nfunction variadic(fn, cache, serializer) {\n  var args = Array.prototype.slice.call(arguments, 3);\n  var cacheKey = serializer(args);\n  var computedValue = cache.get(cacheKey);\n  if (typeof computedValue === \"undefined\") {\n    computedValue = fn.apply(this, args);\n    cache.set(cacheKey, computedValue);\n  }\n  return computedValue;\n}\nfunction assemble(fn, context, strategy, cache, serialize) {\n  return strategy.bind(context, fn, cache, serialize);\n}\nfunction strategyDefault(fn, options) {\n  var strategy = fn.length === 1 ? monadic : variadic;\n  return assemble(fn, this, strategy, options.cache.create(), options.serializer);\n}\nfunction serializerDefault() {\n  return JSON.stringify(arguments);\n}\nfunction ObjectWithoutPrototypeCache() {\n  this.cache = /* @__PURE__ */ Object.create(null);\n}\nObjectWithoutPrototypeCache.prototype.has = function(key) {\n  return key in this.cache;\n};\nObjectWithoutPrototypeCache.prototype.get = function(key) {\n  return this.cache[key];\n};\nObjectWithoutPrototypeCache.prototype.set = function(key, value) {\n  this.cache[key] = value;\n};\nvar cacheDefault = {\n  create: function create() {\n    return new ObjectWithoutPrototypeCache();\n  }\n};\nvar memoize_default = memoize;\n\n// src/index.ts\nvar DEFAULT_CLASS = {\n  MAIN: \"svelte-draggable\",\n  DRAGGING: \"svelte-draggable-dragging\",\n  DRAGGED: \"svelte-draggable-dragged\"\n};\nvar draggable = (node, options = {}) => {\n  var _a, _b;\n  let {\n    bounds,\n    axis = \"both\",\n    gpuAcceleration = true,\n    applyUserSelectHack = true,\n    disabled = false,\n    ignoreMultitouch = false,\n    grid,\n    position,\n    cancel,\n    handle,\n    defaultClass = DEFAULT_CLASS.MAIN,\n    defaultClassDragging = DEFAULT_CLASS.DRAGGING,\n    defaultClassDragged = DEFAULT_CLASS.DRAGGED,\n    defaultPosition = { x: 0, y: 0 },\n    onDragStart,\n    onDrag,\n    onDragEnd\n  } = options;\n  const tick = new Promise(requestAnimationFrame);\n  let active = false;\n  let [translateX, translateY] = [0, 0];\n  let [initialX, initialY] = [0, 0];\n  let [clientToNodeOffsetX, clientToNodeOffsetY] = [0, 0];\n  let { x: xOffset, y: yOffset } = { x: (_a = position == null ? void 0 : position.x) != null ? _a : 0, y: (_b = position == null ? void 0 : position.y) != null ? _b : 0 };\n  setTranslate(xOffset, yOffset, node, gpuAcceleration);\n  let canMoveInX;\n  let canMoveInY;\n  let bodyOriginalUserSelectVal = \"\";\n  let computedBounds;\n  let nodeRect;\n  let dragEl;\n  let cancelEl;\n  let isControlled = !!position;\n  const getEventData = () => ({\n    offsetX: translateX,\n    offsetY: translateY,\n    domRect: node.getBoundingClientRect()\n  });\n  function fireSvelteDragStartEvent(node2) {\n    const data = getEventData();\n    node2.dispatchEvent(new CustomEvent(\"svelte-drag:start\", { detail: data }));\n    onDragStart == null ? void 0 : onDragStart(data);\n  }\n  function fireSvelteDragStopEvent(node2) {\n    const data = getEventData();\n    node2.dispatchEvent(new CustomEvent(\"svelte-drag:end\", { detail: data }));\n    onDragEnd == null ? void 0 : onDragEnd(data);\n  }\n  function fireSvelteDragEvent(node2, translateX2, translateY2) {\n    const data = getEventData();\n    node2.dispatchEvent(new CustomEvent(\"svelte-drag\", { detail: data }));\n    onDrag == null ? void 0 : onDrag(data);\n  }\n  const listen = addEventListener;\n  listen(\"touchstart\", dragStart, false);\n  listen(\"touchend\", dragEnd, false);\n  listen(\"touchmove\", drag, false);\n  listen(\"mousedown\", dragStart, false);\n  listen(\"mouseup\", dragEnd, false);\n  listen(\"mousemove\", drag, false);\n  node.style.touchAction = \"none\";\n  const calculateInverseScale = () => {\n    let inverseScale = node.offsetWidth / nodeRect.width;\n    if (isNaN(inverseScale))\n      inverseScale = 1;\n    return inverseScale;\n  };\n  function dragStart(e) {\n    if (disabled)\n      return;\n    if (ignoreMultitouch && e.type === \"touchstart\" && e.touches.length > 1)\n      return;\n    node.classList.add(defaultClass);\n    dragEl = getDragEl(handle, node);\n    cancelEl = getCancelElement(cancel, node);\n    canMoveInX = [\"both\", \"x\"].includes(axis);\n    canMoveInY = [\"both\", \"y\"].includes(axis);\n    if (typeof bounds !== \"undefined\") {\n      computedBounds = computeBoundRect(bounds, node);\n    }\n    nodeRect = node.getBoundingClientRect();\n    if (isString(handle) && isString(cancel) && handle === cancel)\n      throw new Error(\"`handle` selector can't be same as `cancel` selector\");\n    if (cancelEl == null ? void 0 : cancelEl.contains(dragEl))\n      throw new Error(\"Element being dragged can't be a child of the element on which `cancel` is applied\");\n    if (dragEl.contains(e.target) && !(cancelEl == null ? void 0 : cancelEl.contains(e.target)))\n      active = true;\n    if (!active)\n      return;\n    if (applyUserSelectHack) {\n      bodyOriginalUserSelectVal = document.body.style.userSelect;\n      document.body.style.userSelect = \"none\";\n    }\n    fireSvelteDragStartEvent(node);\n    const { clientX, clientY } = isTouchEvent(e) ? e.touches[0] : e;\n    const inverseScale = calculateInverseScale();\n    if (canMoveInX)\n      initialX = clientX - xOffset / inverseScale;\n    if (canMoveInY)\n      initialY = clientY - yOffset / inverseScale;\n    if (computedBounds) {\n      clientToNodeOffsetX = clientX - nodeRect.left;\n      clientToNodeOffsetY = clientY - nodeRect.top;\n    }\n  }\n  function dragEnd() {\n    if (!active)\n      return;\n    node.classList.remove(defaultClassDragging);\n    node.classList.add(defaultClassDragged);\n    if (applyUserSelectHack)\n      document.body.style.userSelect = bodyOriginalUserSelectVal;\n    fireSvelteDragStopEvent(node);\n    if (canMoveInX)\n      initialX = translateX;\n    if (canMoveInX)\n      initialY = translateY;\n    active = false;\n  }\n  function drag(e) {\n    if (!active)\n      return;\n    node.classList.add(defaultClassDragging);\n    e.preventDefault();\n    nodeRect = node.getBoundingClientRect();\n    const { clientX, clientY } = isTouchEvent(e) ? e.touches[0] : e;\n    let [finalX, finalY] = [clientX, clientY];\n    const inverseScale = calculateInverseScale();\n    if (computedBounds) {\n      const virtualClientBounds = {\n        left: computedBounds.left + clientToNodeOffsetX,\n        top: computedBounds.top + clientToNodeOffsetY,\n        right: computedBounds.right + clientToNodeOffsetX - nodeRect.width,\n        bottom: computedBounds.bottom + clientToNodeOffsetY - nodeRect.height\n      };\n      finalX = clamp(finalX, virtualClientBounds.left, virtualClientBounds.right);\n      finalY = clamp(finalY, virtualClientBounds.top, virtualClientBounds.bottom);\n    }\n    if (Array.isArray(grid)) {\n      let [xSnap, ySnap] = grid;\n      if (isNaN(+xSnap) || xSnap < 0)\n        throw new Error(\"1st argument of `grid` must be a valid positive number\");\n      if (isNaN(+ySnap) || ySnap < 0)\n        throw new Error(\"2nd argument of `grid` must be a valid positive number\");\n      let [deltaX, deltaY] = [finalX - initialX, finalY - initialY];\n      [deltaX, deltaY] = snapToGrid([Math.floor(xSnap / inverseScale), Math.floor(ySnap / inverseScale)], deltaX, deltaY);\n      [finalX, finalY] = [initialX + deltaX, initialY + deltaY];\n    }\n    if (canMoveInX)\n      translateX = (finalX - initialX) * inverseScale;\n    if (canMoveInY)\n      translateY = (finalY - initialY) * inverseScale;\n    [xOffset, yOffset] = [translateX, translateY];\n    fireSvelteDragEvent(node, translateX, translateY);\n    tick.then(() => setTranslate(translateX, translateY, node, gpuAcceleration));\n  }\n  return {\n    destroy: () => {\n      const unlisten = removeEventListener;\n      unlisten(\"touchstart\", dragStart, false);\n      unlisten(\"touchend\", dragEnd, false);\n      unlisten(\"touchmove\", drag, false);\n      unlisten(\"mousedown\", dragStart, false);\n      unlisten(\"mouseup\", dragEnd, false);\n      unlisten(\"mousemove\", drag, false);\n    },\n    update: (options2) => {\n      var _a2, _b2, _c, _d, _e, _f, _g, _h, _i, _j, _k;\n      axis = options2.axis || \"both\";\n      disabled = (_a2 = options2.disabled) != null ? _a2 : false;\n      ignoreMultitouch = (_b2 = options2.ignoreMultitouch) != null ? _b2 : false;\n      handle = options2.handle;\n      bounds = options2.bounds;\n      cancel = options2.cancel;\n      applyUserSelectHack = (_c = options2.applyUserSelectHack) != null ? _c : true;\n      grid = options2.grid;\n      gpuAcceleration = (_d = options2.gpuAcceleration) != null ? _d : true;\n      const dragged = node.classList.contains(defaultClassDragged);\n      node.classList.remove(defaultClass, defaultClassDragged);\n      defaultClass = (_e = options2.defaultClass) != null ? _e : DEFAULT_CLASS.MAIN;\n      defaultClassDragging = (_f = options2.defaultClassDragging) != null ? _f : DEFAULT_CLASS.DRAGGING;\n      defaultClassDragged = (_g = options2.defaultClassDragged) != null ? _g : DEFAULT_CLASS.DRAGGED;\n      node.classList.add(defaultClass);\n      if (dragged)\n        node.classList.add(defaultClassDragged);\n      if (isControlled) {\n        xOffset = translateX = (_i = (_h = options2.position) == null ? void 0 : _h.x) != null ? _i : translateX;\n        yOffset = translateY = (_k = (_j = options2.position) == null ? void 0 : _j.y) != null ? _k : translateY;\n        tick.then(() => setTranslate(translateX, translateY, node, gpuAcceleration));\n      }\n    }\n  };\n};\nfunction isTouchEvent(event) {\n  return Boolean(event.touches && event.touches.length);\n}\nfunction clamp(val, min, max) {\n  return Math.min(Math.max(val, min), max);\n}\nfunction isString(val) {\n  return typeof val === \"string\";\n}\nvar snapToGrid = memoize_default(([xSnap, ySnap], pendingX, pendingY) => {\n  const x = Math.round(pendingX / xSnap) * xSnap;\n  const y = Math.round(pendingY / ySnap) * ySnap;\n  return [x, y];\n});\nfunction getDragEl(handle, node) {\n  if (!handle)\n    return node;\n  const handleEl = node.querySelector(handle);\n  if (handleEl === null)\n    throw new Error(\"Selector passed for `handle` option should be child of the element on which the action is applied\");\n  return handleEl;\n}\nfunction getCancelElement(cancel, node) {\n  if (!cancel)\n    return;\n  const cancelEl = node.querySelector(cancel);\n  if (cancelEl === null)\n    throw new Error(\"Selector passed for `cancel` option should be child of the element on which the action is applied\");\n  return cancelEl;\n}\nfunction computeBoundRect(bounds, rootNode) {\n  if (typeof bounds === \"object\") {\n    const [windowWidth, windowHeight] = [window.innerWidth, window.innerHeight];\n    const { top = 0, left = 0, right = 0, bottom = 0 } = bounds;\n    const computedRight = windowWidth - right;\n    const computedBottom = windowHeight - bottom;\n    return { top, right: computedRight, bottom: computedBottom, left };\n  }\n  if (bounds === \"parent\") {\n    const boundRect = rootNode.parentNode.getBoundingClientRect();\n    return boundRect;\n  }\n  const node = document.querySelector(bounds);\n  if (node === null)\n    throw new Error(\"The selector provided for bound doesn't exists in the document.\");\n  const computedBounds = node.getBoundingClientRect();\n  return computedBounds;\n}\nfunction setTranslate(xPos, yPos, el, gpuAcceleration) {\n  el.style.transform = gpuAcceleration ? `translate3d(${+xPos}px, ${+yPos}px, 0)` : `translate(${+xPos}px, ${+yPos}px)`;\n}\nexport {\n  draggable\n};\n//# sourceMappingURL=index.js.map","<div>\r\n\t<svg\r\n\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\txmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n\t\tviewBox=\"0 0 1440 1440\"\r\n\t\twidth=\"100\"\r\n\t\theight=\"100\"\r\n\t>\r\n\t\t<defs />\r\n\t\t<defs>\r\n\t\t\t<path\r\n\t\t\t\tid=\"a\"\r\n\t\t\t\td=\"M258 1321c9-304 6-917 0-1191 52-161 1082-280 1083 330 1 609-618 545-701 538-2 67-2 208 0 422-222 56-349 23-382-99z\"\r\n\t\t\t/>\r\n\t\t\t<path\r\n\t\t\t\tid=\"c\"\r\n\t\t\t\td=\"M1122 560c-107 223-284 293-529 209l-38 79c-1 2-4 2-5-1l-99-287c-1-5 1-11 6-13l273-106c3-1 6 2 5 5l-36 75c70 126 211 139 423 39z\"\r\n\t\t\t/>\r\n\t\t\t<path\r\n\t\t\t\tid=\"d\"\r\n\t\t\t\td=\"M451 447c107-223 284-292 529-209l38-78c1-3 5-2 5 0l99 288c1 5-1 10-6 12L843 567c-3 1-6-3-5-6l37-75c-71-126-212-139-424-39z\"\r\n\t\t\t/>\r\n\t\t\t<radialGradient id=\"b\" cx=\"992.3\" cy=\"174.2\" r=\"1312.8\" gradientUnits=\"userSpaceOnUse\">\r\n\t\t\t\t<stop offset=\"0%\" stop-color=\"#69ed66\" />\r\n\t\t\t\t<stop offset=\"100%\" stop-color=\"#279c19\" />\r\n\t\t\t</radialGradient>\r\n\t\t</defs>\r\n\t\t<use fill=\"url(#b)\" xlink:href=\"#a\" />\r\n\t\t<use fill=\"#fff\" xlink:href=\"#c\" />\r\n\t\t<use fill=\"#fff\" xlink:href=\"#d\" />\r\n\t</svg>\r\n</div>\r\n\r\n<style>\r\n\tsvg {\r\n\t\twidth: auto;\r\n\t\theight: 2em;\r\n\t\tdisplay: block;\r\n\t}\r\n</style>\r\n","<script>\r\n\timport { draggable } from 'svelte-drag';\r\n\timport Logo from './assets/Logo.svelte'; // https://peerpiper.io\r\n\r\n\tlet navOpen = false;\r\n\r\n\tfunction handleNav() {\r\n\t\tnavOpen = !navOpen;\r\n\t}\r\n\r\n\tfunction onClickOutside(event) {\r\n\t\tnavOpen = false;\r\n\t}\r\n</script>\r\n\r\n<!-- Use Menu Icon to open the sidenav -->\r\n<div class=\"container\" class:change={navOpen} on:click={handleNav} use:draggable>\r\n\t<Logo />\r\n\t<div class=\"menu-icon\">\r\n\t\t<div class=\"bar1\" />\r\n\t\t<div class=\"bar2\" />\r\n\t\t<div class=\"bar3\" />\r\n\t</div>\r\n</div>\r\n\r\n<div class:mask={navOpen} on:click={onClickOutside} />\r\n<div class=\"sidenav\" class:open={navOpen}>\r\n\t<slot openNav={() => (navOpen = true)} hideNav={() => (navOpen = false)} />\r\n</div>\r\n\r\n<style>\r\n\t.container {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tposition: absolute;\r\n\t\ttop: 0%;\r\n\t\tright: 0%;\r\n\t\tz-index: 100;\r\n\t\tcursor: pointer;\r\n\t\t/* \tbackground-color: black; */\r\n\t\tmargin: 1.618em;\r\n\t\topacity: 0.95;\r\n\t}\r\n\r\n\t.menu-icon {\r\n\t\tdisplay: inline-block;\r\n\t}\r\n\t.bar1,\r\n\t.bar2,\r\n\t.bar3 {\r\n\t\twidth: 35px;\r\n\t\theight: 5px;\r\n\t\tbackground-color: #0bb113;\r\n\t\tmargin: 6px 0;\r\n\t\ttransition: 0.4s;\r\n\t}\r\n\r\n\t.change .bar1 {\r\n\t\t-webkit-transform: rotate(-45deg) translate(-9px, 6px);\r\n\t\ttransform: rotate(-45deg) translate(-9px, 6px);\r\n\t}\r\n\r\n\t.change .bar2 {\r\n\t\topacity: 0;\r\n\t}\r\n\r\n\t.change .bar3 {\r\n\t\t-webkit-transform: rotate(45deg) translate(-8px, -8px);\r\n\t\ttransform: rotate(45deg) translate(-8px, -8px);\r\n\t}\r\n\r\n\t/* The side navigation menu */\r\n\t.sidenav {\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tright: 0;\r\n\t\theight: 15%;\r\n\t\twidth: 0; /* 0 width - change this with JavaScript */\r\n\t\tz-index: 10;\r\n\t\tbackground-color: #111;\r\n\t\toverflow-x: inherit; /* Disable horizontal scroll */\r\n\t\tpadding-top: 30px;\r\n\t\ttransition: 0.25s;\r\n\t}\r\n\r\n\t.open {\r\n\t\twidth: 80%;\r\n\t\theight: 100%;\r\n\t\toverflow-x: scroll;\r\n\t}\r\n\r\n\t.mask {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\topacity: 0.5;\r\n\t\tbackground-color: #444;\r\n\t\ttransition: 0.4s;\r\n\t}\r\n\r\n\t/* On smaller screens, where height is less than 450px, change the style of the sidenav (less padding and a smaller font size) */\r\n\t@media screen and (max-height: 450px) {\r\n\t\t.sidenav {\r\n\t\t\tpadding-top: 15px;\r\n\t\t}\r\n\t}\r\n</style>\r\n","export var MessageType;\n(function (MessageType) {\n    MessageType[\"Call\"] = \"call\";\n    MessageType[\"Reply\"] = \"reply\";\n    MessageType[\"Syn\"] = \"syn\";\n    MessageType[\"SynAck\"] = \"synAck\";\n    MessageType[\"Ack\"] = \"ack\";\n})(MessageType || (MessageType = {}));\nexport var Resolution;\n(function (Resolution) {\n    Resolution[\"Fulfilled\"] = \"fulfilled\";\n    Resolution[\"Rejected\"] = \"rejected\";\n})(Resolution || (Resolution = {}));\nexport var ErrorCode;\n(function (ErrorCode) {\n    ErrorCode[\"ConnectionDestroyed\"] = \"ConnectionDestroyed\";\n    ErrorCode[\"ConnectionTimeout\"] = \"ConnectionTimeout\";\n    ErrorCode[\"NoIframeSrc\"] = \"NoIframeSrc\";\n})(ErrorCode || (ErrorCode = {}));\nexport var NativeErrorName;\n(function (NativeErrorName) {\n    NativeErrorName[\"DataCloneError\"] = \"DataCloneError\";\n})(NativeErrorName || (NativeErrorName = {}));\nexport var NativeEventType;\n(function (NativeEventType) {\n    NativeEventType[\"Message\"] = \"message\";\n})(NativeEventType || (NativeEventType = {}));\n","export default (localName, log) => {\n    const callbacks = [];\n    let destroyed = false;\n    return {\n        destroy(error) {\n            if (!destroyed) {\n                destroyed = true;\n                log(`${localName}: Destroying connection`);\n                callbacks.forEach((callback) => {\n                    callback(error);\n                });\n            }\n        },\n        onDestroy(callback) {\n            destroyed ? callback() : callbacks.push(callback);\n        },\n    };\n};\n","export default (debug) => {\n    /**\n     * Logs a message if debug is enabled.\n     */\n    return (...args) => {\n        if (debug) {\n            console.log('[Penpal]', ...args); // eslint-disable-line no-console\n        }\n    };\n};\n","const DEFAULT_PORT_BY_PROTOCOL = {\n    'http:': '80',\n    'https:': '443',\n};\nconst URL_REGEX = /^(https?:)?\\/\\/([^/:]+)?(:(\\d+))?/;\nconst opaqueOriginSchemes = ['file:', 'data:'];\n/**\n * Converts a src value into an origin.\n */\nexport default (src) => {\n    if (src && opaqueOriginSchemes.find((scheme) => src.startsWith(scheme))) {\n        // The origin of the child document is an opaque origin and its\n        // serialization is \"null\"\n        // https://html.spec.whatwg.org/multipage/origin.html#origin\n        return 'null';\n    }\n    // Note that if src is undefined, then srcdoc is being used instead of src\n    // and we can follow this same logic below to get the origin of the parent,\n    // which is the origin that we will need to use.\n    const location = document.location;\n    const regexResult = URL_REGEX.exec(src);\n    let protocol;\n    let hostname;\n    let port;\n    if (regexResult) {\n        // It's an absolute URL. Use the parsed info.\n        // regexResult[1] will be undefined if the URL starts with //\n        protocol = regexResult[1] ? regexResult[1] : location.protocol;\n        hostname = regexResult[2];\n        port = regexResult[4];\n    }\n    else {\n        // It's a relative path. Use the current location's info.\n        protocol = location.protocol;\n        hostname = location.hostname;\n        port = location.port;\n    }\n    // If the port is the default for the protocol, we don't want to add it to the origin string\n    // or it won't match the message's event.origin.\n    const portSuffix = port && port !== DEFAULT_PORT_BY_PROTOCOL[protocol] ? `:${port}` : '';\n    return `${protocol}//${hostname}${portSuffix}`;\n};\n","/**\n * Converts an error object into a plain object.\n */\nexport const serializeError = ({ name, message, stack, }) => ({\n    name,\n    message,\n    stack,\n});\n/**\n * Converts a plain object into an error object.\n */\nexport const deserializeError = (obj) => {\n    const deserializedError = new Error();\n    // @ts-ignore\n    Object.keys(obj).forEach((key) => (deserializedError[key] = obj[key]));\n    return deserializedError;\n};\n","import { serializeError } from './errorSerialization';\nimport { MessageType, NativeEventType, NativeErrorName, Resolution, } from './enums';\n/**\n * Listens for \"call\" messages coming from the remote, executes the corresponding method, and\n * responds with the return value.\n */\nexport default (info, serializedMethods, log) => {\n    const { localName, local, remote, originForSending, originForReceiving, } = info;\n    let destroyed = false;\n    const handleMessageEvent = (event) => {\n        if (event.source !== remote || event.data.penpal !== MessageType.Call) {\n            return;\n        }\n        if (originForReceiving !== '*' && event.origin !== originForReceiving) {\n            log(`${localName} received message from origin ${event.origin} which did not match expected origin ${originForReceiving}`);\n            return;\n        }\n        const callMessage = event.data;\n        const { methodName, args, id } = callMessage;\n        log(`${localName}: Received ${methodName}() call`);\n        const createPromiseHandler = (resolution) => {\n            return (returnValue) => {\n                log(`${localName}: Sending ${methodName}() reply`);\n                if (destroyed) {\n                    // It's possible to throw an error here, but it would need to be thrown asynchronously\n                    // and would only be catchable using window.onerror. This is because the consumer\n                    // is merely returning a value from their method and not calling any function\n                    // that they could wrap in a try-catch. Even if the consumer were to catch the error,\n                    // the value of doing so is questionable. Instead, we'll just log a message.\n                    log(`${localName}: Unable to send ${methodName}() reply due to destroyed connection`);\n                    return;\n                }\n                const message = {\n                    penpal: MessageType.Reply,\n                    id,\n                    resolution,\n                    returnValue,\n                };\n                if (resolution === Resolution.Rejected &&\n                    returnValue instanceof Error) {\n                    message.returnValue = serializeError(returnValue);\n                    message.returnValueIsError = true;\n                }\n                try {\n                    remote.postMessage(message, originForSending);\n                }\n                catch (err) {\n                    // If a consumer attempts to send an object that's not cloneable (e.g., window),\n                    // we want to ensure the receiver's promise gets rejected.\n                    if (err.name === NativeErrorName.DataCloneError) {\n                        const errorReplyMessage = {\n                            penpal: MessageType.Reply,\n                            id,\n                            resolution: Resolution.Rejected,\n                            returnValue: serializeError(err),\n                            returnValueIsError: true,\n                        };\n                        remote.postMessage(errorReplyMessage, originForSending);\n                    }\n                    throw err;\n                }\n            };\n        };\n        new Promise((resolve) => resolve(serializedMethods[methodName].apply(serializedMethods, args))).then(createPromiseHandler(Resolution.Fulfilled), createPromiseHandler(Resolution.Rejected));\n    };\n    local.addEventListener(NativeEventType.Message, handleMessageEvent);\n    return () => {\n        destroyed = true;\n        local.removeEventListener(NativeEventType.Message, handleMessageEvent);\n    };\n};\n","let id = 0;\n/**\n * @return {number} A unique ID (not universally unique)\n */\nexport default () => ++id;\n","const KEY_PATH_DELIMITER = '.';\nconst keyPathToSegments = (keyPath) => keyPath ? keyPath.split(KEY_PATH_DELIMITER) : [];\nconst segmentsToKeyPath = (segments) => segments.join(KEY_PATH_DELIMITER);\nconst createKeyPath = (key, prefix) => {\n    const segments = keyPathToSegments(prefix || '');\n    segments.push(key);\n    return segmentsToKeyPath(segments);\n};\n/**\n * Given a `keyPath`, set it to be `value` on `subject`, creating any intermediate\n * objects along the way.\n *\n * @param {Object} subject The object on which to set value.\n * @param {string} keyPath The key path at which to set value.\n * @param {Object} value The value to store at the given key path.\n * @returns {Object} Updated subject.\n */\nexport const setAtKeyPath = (subject, keyPath, value) => {\n    const segments = keyPathToSegments(keyPath);\n    segments.reduce((prevSubject, key, idx) => {\n        if (typeof prevSubject[key] === 'undefined') {\n            prevSubject[key] = {};\n        }\n        if (idx === segments.length - 1) {\n            prevSubject[key] = value;\n        }\n        return prevSubject[key];\n    }, subject);\n    return subject;\n};\n/**\n * Given a dictionary of (nested) keys to function, flatten them to a map\n * from key path to function.\n *\n * @param {Object} methods The (potentially nested) object to serialize.\n * @param {string} prefix A string with which to prefix entries. Typically not intended to be used by consumers.\n * @returns {Object} An map from key path in `methods` to functions.\n */\nexport const serializeMethods = (methods, prefix) => {\n    const flattenedMethods = {};\n    Object.keys(methods).forEach((key) => {\n        const value = methods[key];\n        const keyPath = createKeyPath(key, prefix);\n        if (typeof value === 'object') {\n            // Recurse into any nested children.\n            Object.assign(flattenedMethods, serializeMethods(value, keyPath));\n        }\n        if (typeof value === 'function') {\n            // If we've found a method, expose it.\n            flattenedMethods[keyPath] = value;\n        }\n    });\n    return flattenedMethods;\n};\n/**\n * Given a map of key paths to functions, unpack the key paths to an object.\n *\n * @param {Object} flattenedMethods A map of key paths to functions to unpack.\n * @returns {Object} A (potentially nested) map of functions.\n */\nexport const deserializeMethods = (flattenedMethods) => {\n    const methods = {};\n    for (const keyPath in flattenedMethods) {\n        setAtKeyPath(methods, keyPath, flattenedMethods[keyPath]);\n    }\n    return methods;\n};\n","import generateId from './generateId';\nimport { deserializeError } from './errorSerialization';\nimport { deserializeMethods } from './methodSerialization';\nimport { ErrorCode, MessageType, NativeEventType, Resolution } from './enums';\n/**\n * Augments an object with methods that match those defined by the remote. When these methods are\n * called, a \"call\" message will be sent to the remote, the remote's corresponding method will be\n * executed, and the method's return value will be returned via a message.\n * @param {Object} callSender Sender object that should be augmented with methods.\n * @param {Object} info Information about the local and remote windows.\n * @param {Array} methodKeyPaths Key paths of methods available to be called on the remote.\n * @param {Promise} destructionPromise A promise resolved when destroy() is called on the penpal\n * connection.\n * @returns {Object} The call sender object with methods that may be called.\n */\nexport default (callSender, info, methodKeyPaths, destroyConnection, log) => {\n    const { localName, local, remote, originForSending, originForReceiving, } = info;\n    let destroyed = false;\n    log(`${localName}: Connecting call sender`);\n    const createMethodProxy = (methodName) => {\n        return (...args) => {\n            log(`${localName}: Sending ${methodName}() call`);\n            // This handles the case where the iframe has been removed from the DOM\n            // (and therefore its window closed), the consumer has not yet\n            // called destroy(), and the user calls a method exposed by\n            // the remote. We detect the iframe has been removed and force\n            // a destroy() immediately so that the consumer sees the error saying\n            // the connection has been destroyed. We wrap this check in a try catch\n            // because Edge throws an \"Object expected\" error when accessing\n            // contentWindow.closed on a contentWindow from an iframe that's been\n            // removed from the DOM.\n            let iframeRemoved;\n            try {\n                if (remote.closed) {\n                    iframeRemoved = true;\n                }\n            }\n            catch (e) {\n                iframeRemoved = true;\n            }\n            if (iframeRemoved) {\n                destroyConnection();\n            }\n            if (destroyed) {\n                const error = new Error(`Unable to send ${methodName}() call due ` + `to destroyed connection`);\n                error.code = ErrorCode.ConnectionDestroyed;\n                throw error;\n            }\n            return new Promise((resolve, reject) => {\n                const id = generateId();\n                const handleMessageEvent = (event) => {\n                    if (event.source !== remote ||\n                        event.data.penpal !== MessageType.Reply ||\n                        event.data.id !== id) {\n                        return;\n                    }\n                    if (originForReceiving !== '*' &&\n                        event.origin !== originForReceiving) {\n                        log(`${localName} received message from origin ${event.origin} which did not match expected origin ${originForReceiving}`);\n                        return;\n                    }\n                    const replyMessage = event.data;\n                    log(`${localName}: Received ${methodName}() reply`);\n                    local.removeEventListener(NativeEventType.Message, handleMessageEvent);\n                    let returnValue = replyMessage.returnValue;\n                    if (replyMessage.returnValueIsError) {\n                        returnValue = deserializeError(returnValue);\n                    }\n                    (replyMessage.resolution === Resolution.Fulfilled ? resolve : reject)(returnValue);\n                };\n                local.addEventListener(NativeEventType.Message, handleMessageEvent);\n                const callMessage = {\n                    penpal: MessageType.Call,\n                    id,\n                    methodName,\n                    args,\n                };\n                remote.postMessage(callMessage, originForSending);\n            });\n        };\n    };\n    // Wrap each method in a proxy which sends it to the corresponding receiver.\n    const flattenedMethods = methodKeyPaths.reduce((api, name) => {\n        api[name] = createMethodProxy(name);\n        return api;\n    }, {});\n    // Unpack the structure of the provided methods object onto the CallSender, exposing\n    // the methods in the same shape they were provided.\n    Object.assign(callSender, deserializeMethods(flattenedMethods));\n    return () => {\n        destroyed = true;\n    };\n};\n","import connectCallReceiver from '../connectCallReceiver';\nimport connectCallSender from '../connectCallSender';\n/**\n * Handles an ACK handshake message.\n */\nexport default (serializedMethods, childOrigin, originForSending, destructor, log) => {\n    const { destroy, onDestroy } = destructor;\n    let destroyCallReceiver;\n    let receiverMethodNames;\n    // We resolve the promise with the call sender. If the child reconnects\n    // (for example, after refreshing or navigating to another page that\n    // uses Penpal, we'll update the call sender with methods that match the\n    // latest provided by the child.\n    const callSender = {};\n    return (event) => {\n        if (childOrigin !== '*' && event.origin !== childOrigin) {\n            log(`Parent: Handshake - Received ACK message from origin ${event.origin} which did not match expected origin ${childOrigin}`);\n            return;\n        }\n        log('Parent: Handshake - Received ACK');\n        const info = {\n            localName: 'Parent',\n            local: window,\n            remote: event.source,\n            originForSending: originForSending,\n            originForReceiving: childOrigin,\n        };\n        // If the child reconnected, we need to destroy the prior call receiver\n        // before setting up a new one.\n        if (destroyCallReceiver) {\n            destroyCallReceiver();\n        }\n        destroyCallReceiver = connectCallReceiver(info, serializedMethods, log);\n        onDestroy(destroyCallReceiver);\n        // If the child reconnected, we need to remove the methods from the\n        // previous call receiver off the sender.\n        if (receiverMethodNames) {\n            receiverMethodNames.forEach((receiverMethodName) => {\n                delete callSender[receiverMethodName];\n            });\n        }\n        receiverMethodNames = event.data.methodNames;\n        const destroyCallSender = connectCallSender(callSender, info, receiverMethodNames, destroy, log);\n        onDestroy(destroyCallSender);\n        return callSender;\n    };\n};\n","import { MessageType } from '../enums';\n/**\n * Handles a SYN handshake message.\n */\nexport default (log, serializedMethods, childOrigin, originForSending) => {\n    return (event) => {\n        if (childOrigin !== '*' && event.origin !== childOrigin) {\n            log(`Parent: Handshake - Received SYN message from origin ${event.origin} which did not match expected origin ${childOrigin}`);\n            return;\n        }\n        log('Parent: Handshake - Received SYN, responding with SYN-ACK');\n        const synAckMessage = {\n            penpal: MessageType.SynAck,\n            methodNames: Object.keys(serializedMethods),\n        };\n        event.source.postMessage(synAckMessage, originForSending);\n    };\n};\n","const CHECK_IFRAME_IN_DOC_INTERVAL = 60000;\n/**\n * Monitors for iframe removal and destroys connection if iframe\n * is found to have been removed from DOM. This is to prevent memory\n * leaks when the iframe is removed from the document and the consumer\n * hasn't called destroy(). Without this, event listeners attached to\n * the window would stick around and since the event handlers have a\n * reference to the iframe in their closures, the iframe would stick\n * around too.\n */\nexport default (iframe, destructor) => {\n    const { destroy, onDestroy } = destructor;\n    const checkIframeInDocIntervalId = setInterval(() => {\n        if (!iframe.isConnected) {\n            clearInterval(checkIframeInDocIntervalId);\n            destroy();\n        }\n    }, CHECK_IFRAME_IN_DOC_INTERVAL);\n    onDestroy(() => {\n        clearInterval(checkIframeInDocIntervalId);\n    });\n};\n","import { ErrorCode } from './enums';\n/**\n * Starts a timeout and calls the callback with an error\n * if the timeout completes before the stop function is called.\n */\nexport default (timeout, callback) => {\n    let timeoutId;\n    if (timeout !== undefined) {\n        timeoutId = window.setTimeout(() => {\n            const error = new Error(`Connection timed out after ${timeout}ms`);\n            error.code = ErrorCode.ConnectionTimeout;\n            callback(error);\n        }, timeout);\n    }\n    return () => {\n        clearTimeout(timeoutId);\n    };\n};\n","import { ErrorCode } from '../enums';\nexport default (iframe) => {\n    if (!iframe.src && !iframe.srcdoc) {\n        const error = new Error('Iframe must have src or srcdoc property defined.');\n        error.code = ErrorCode.NoIframeSrc;\n        throw error;\n    }\n};\n","import { MessageType, NativeEventType } from '../enums';\nimport createDestructor from '../createDestructor';\nimport createLogger from '../createLogger';\nimport getOriginFromSrc from './getOriginFromSrc';\nimport handleAckMessageFactory from './handleAckMessageFactory';\nimport handleSynMessageFactory from './handleSynMessageFactory';\nimport { serializeMethods } from '../methodSerialization';\nimport monitorIframeRemoval from './monitorIframeRemoval';\nimport startConnectionTimeout from '../startConnectionTimeout';\nimport validateIframeHasSrcOrSrcDoc from './validateIframeHasSrcOrSrcDoc';\n/**\n * Attempts to establish communication with an iframe.\n */\nexport default (options) => {\n    let { iframe, methods = {}, childOrigin, timeout, debug = false } = options;\n    const log = createLogger(debug);\n    const destructor = createDestructor('Parent', log);\n    const { onDestroy, destroy } = destructor;\n    if (!childOrigin) {\n        validateIframeHasSrcOrSrcDoc(iframe);\n        childOrigin = getOriginFromSrc(iframe.src);\n    }\n    // If event.origin is \"null\", the remote protocol is file: or data: and we\n    // must post messages with \"*\" as targetOrigin when sending messages.\n    // https://developer.mozilla.org/en-US/docs/Web/API/Window/postMessage#Using_window.postMessage_in_extensions\n    const originForSending = childOrigin === 'null' ? '*' : childOrigin;\n    const serializedMethods = serializeMethods(methods);\n    const handleSynMessage = handleSynMessageFactory(log, serializedMethods, childOrigin, originForSending);\n    const handleAckMessage = handleAckMessageFactory(serializedMethods, childOrigin, originForSending, destructor, log);\n    const promise = new Promise((resolve, reject) => {\n        const stopConnectionTimeout = startConnectionTimeout(timeout, destroy);\n        const handleMessage = (event) => {\n            if (event.source !== iframe.contentWindow || !event.data) {\n                return;\n            }\n            if (event.data.penpal === MessageType.Syn) {\n                handleSynMessage(event);\n                return;\n            }\n            if (event.data.penpal === MessageType.Ack) {\n                const callSender = handleAckMessage(event);\n                if (callSender) {\n                    stopConnectionTimeout();\n                    resolve(callSender);\n                }\n                return;\n            }\n        };\n        window.addEventListener(NativeEventType.Message, handleMessage);\n        log('Parent: Awaiting handshake');\n        monitorIframeRemoval(iframe, destructor);\n        onDestroy((error) => {\n            window.removeEventListener(NativeEventType.Message, handleMessage);\n            if (error) {\n                reject(error);\n            }\n        });\n    });\n    return {\n        promise,\n        destroy() {\n            // Don't allow consumer to pass an error into destroy.\n            destroy();\n        },\n    };\n};\n","<script lang=\"ts\">\r\n\timport { fade } from 'svelte/transition';\r\n\timport { createEventDispatcher } from 'svelte';\r\n\r\n\texport let icon; // props\r\n\r\n\tconst dispatch = createEventDispatcher();\r\n</script>\r\n\r\n<button on:click={() => dispatch('click', 'detail value')}>\r\n\t<div class=\"img-container\">\r\n\t\t{#if icon === 'close'}\r\n\t\t\t<div transition:fade={{ delay: 100, duration: 100 }}>\r\n\t\t\t\t<svg\r\n\t\t\t\t\tv-if=\"icon === 'close'\"\r\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\tenable-background=\"new 0 0 24 24\"\r\n\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t><rect fill=\"none\" height=\"24\" width=\"24\" /><path\r\n\t\t\t\t\t\td=\"M3,3v18h18V3H3z M17,15.59L15.59,17L12,13.41L8.41,17L7,15.59L10.59,12L7,8.41L8.41,7L12,10.59L15.59,7L17,8.41L13.41,12 L17,15.59z\"\r\n\t\t\t\t\t/></svg\r\n\t\t\t\t>\r\n\t\t\t</div>\r\n\t\t{/if}\r\n\t\t{#if icon === 'launch'}\r\n\t\t\t<div transition:fade={{ delay: 100, duration: 100 }}>\r\n\t\t\t\t<svg\r\n\t\t\t\t\tv-else-if=\"icon === 'launch'\"\r\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t><path d=\"M0 0h24v24H0z\" fill=\"none\" /><path\r\n\t\t\t\t\t\td=\"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z\"\r\n\t\t\t\t\t/></svg\r\n\t\t\t\t>\r\n\t\t\t</div>\r\n\t\t{/if}\r\n\t\t{#if icon === 'plug'}\r\n\t\t\t<div transition:fade={{ delay: 100, duration: 100 }}>\r\n\t\t\t\t<svg\r\n\t\t\t\t\tv-else-if=\"icon === 'plug'\"\r\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t><path d=\"M0 0h24v24H0z\" fill=\"none\" /><path\r\n\t\t\t\t\t\td=\"M16.01 7L16 3h-2v4h-4V3H8v4h-.01C7 6.99 6 7.99 6 8.99v5.49L9.5 18v3h5v-3l3.5-3.51v-5.5c0-1-1-2-1.99-1.99z\"\r\n\t\t\t\t\t/></svg\r\n\t\t\t\t>\r\n\t\t\t</div>\r\n\t\t{/if}\r\n\t\t{#if icon === 'unplug'}\r\n\t\t\t<div transition:fade={{ delay: 100, duration: 100 }}>\r\n\t\t\t\t<svg\r\n\t\t\t\t\tv-else-if=\"icon === 'unplug'\"\r\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t><path d=\"M0 0h24v24H0V0z\" fill=\"none\" /><path\r\n\t\t\t\t\t\td=\"M18 14.49V9c0-1-1.01-2.01-2-2V3h-2v4h-4V3H8v2.48l9.51 9.5.49-.49zm-1.76 1.77L7.2 7.2l-.01.01L3.98 4 2.71 5.25l3.36 3.36C6.04 8.74 6 8.87 6 9v5.48L9.5 18v3h5v-3l.48-.48L19.45 22l1.26-1.28-4.47-4.46z\"\r\n\t\t\t\t\t/></svg\r\n\t\t\t\t>\r\n\t\t\t</div>\r\n\t\t{/if}\r\n\t</div>\r\n\t<slot />\r\n</button>\r\n\r\n<style>\r\n\tbutton {\r\n\t\tcursor: pointer;\r\n\t\tflex: 0 0 auto;\r\n\t\tposition: relative;\r\n\t\topacity: 0.8;\r\n\t\theight: 100%;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\tbutton {\r\n\t\tcolor: inherit;\r\n\t\tbackground: none;\r\n\t\tborder: none;\r\n\t\tmargin: 0;\r\n\t\tpadding: 0;\r\n\t\tfont-size: 1em;\r\n\t\tcursor: pointer;\r\n\t}\r\n\r\n\t.img-container {\r\n\t\tmargin: calc(var(--spacing) / 2);\r\n\t\twidth: 1.6em;\r\n\t\theight: 1.6em;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\tsvg {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\ttop: 0;\r\n\t\tbottom: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tposition: absolute;\r\n\t}\r\n</style>\r\n","<script lang=\"ts\">\r\n\t// svelte stuff\r\n\timport { onMount } from 'svelte';\r\n\timport { fade } from 'svelte/transition';\r\n\r\n\timport { connectToChild } from 'penpal';\r\n\timport IconButton from './components/WalletSelectorIcons.svelte';\r\n\timport Logo from './assets/Logo.svelte';\r\n\r\n\texport let wallet; // portal to the wallet\r\n\texport let inputUrl = 'https://peerpiper.github.io/iframe-wallet-engine/'; // pick better default\r\n\r\n\t// flex dimensions\r\n\texport let topOffsetHeight = 0;\r\n\texport let topOffsetWidth = 0;\r\n\texport let iframeParentHeight = 0;\r\n\texport let iframeParentWidth = 0;\r\n\tlet iframeOffsetWidth;\r\n\r\n\texport let show;\r\n\texport let hide;\r\n\r\n\tlet src;\r\n\r\n\tlet placeholder = 'Enter Wallet Url';\r\n\tlet iframe;\r\n\tlet focused;\r\n\r\n\tlet saveInputURL;\r\n\tlet timer;\r\n\tconst INPUT_URL = 'INPUT_URL';\r\n\r\n\tconst data = {\r\n\t\tloading: true // load right away\r\n\t};\r\n\r\n\t// cache user's preferred wallet URL to their browser\r\n\tonMount(async () => {\r\n\t\tconst { ImmortalDB } = await import('immortal-db');\r\n\r\n\t\tsaveInputURL = async () => {\r\n\t\t\tawait ImmortalDB.set(INPUT_URL, src);\r\n\t\t};\r\n\r\n\t\t// check for URL\r\n\t\tconst storedValue = await ImmortalDB.get(INPUT_URL, null);\r\n\t\tif (storedValue) {\r\n\t\t\tinputUrl = storedValue;\r\n\t\t}\r\n\t\tconnect();\r\n\t});\r\n\r\n\t$: src && saveInputURL && saveInputURL();\r\n\r\n\tasync function handleIframeLoad() {\r\n\t\tconsole.log('Iframe loaded');\r\n\t\tdata.loading = false;\r\n\r\n\t\tlet pending;\r\n\r\n\t\tconst connection = connectToChild({\r\n\t\t\t// The iframe to which a connection should be made.\r\n\t\t\tiframe,\r\n\t\t\t// Methods the parent is exposing to the child.\r\n\t\t\tmethods: {\r\n\t\t\t\tsetIframeParentHeight(height) {\r\n\t\t\t\t\tiframeParentHeight = height;\r\n\t\t\t\t},\r\n\t\t\t\tsetIframeParentWidth(width) {\r\n\t\t\t\t\tconsole.log('Rx width', width);\r\n\t\t\t\t\tiframeParentWidth = width;\r\n\t\t\t\t},\r\n\t\t\t\tshow() {\r\n\t\t\t\t\tshow();\r\n\t\t\t\t},\r\n\t\t\t\thide() {\r\n\t\t\t\t\thide();\r\n\t\t\t\t},\r\n\t\t\t\twalletReady() {\r\n\t\t\t\t\twallet = pending;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tpending = await connection.promise;\r\n\t\tshow();\r\n\t\tconsole.log({ pending });\r\n\t}\r\n\r\n\tconst connect = () => {\r\n\t\tif (src === inputUrl) return;\r\n\t\tsrc = '';\r\n\t\tsrc = inputUrl;\r\n\t\tdata.loading = true;\r\n\t};\r\n\r\n\tconst disconnect = () => wallet.disconnect();\r\n\tconst togglePopup = () => window.open(inputUrl);\r\n\r\n\tfunction handleKeydown(event) {\r\n\t\tif (event.key === 'Enter' && focused) connect();\r\n\t}\r\n\r\n\t$: iframe && iframe.addEventListener('load', handleIframeLoad);\r\n\t$: popupIcon = wallet?.keepPopup ? 'close' : 'launch';\r\n\t$: connectionIcon = wallet?.address ? 'unplug' : 'plug';\r\n\t$: iframeOffsetWidth && wallet && wallet?.setWidth(iframeOffsetWidth);\r\n</script>\r\n\r\n<svelte:window on:keydown={handleKeydown} />\r\n\r\n<div class=\"connector-container\">\r\n\t<div\r\n\t\tclass=\"top\"\r\n\t\tbind:offsetHeight={topOffsetHeight}\r\n\t\tbind:offsetWidth={topOffsetWidth}\r\n\t\tstyle=\"--topOffsetHeight: {topOffsetHeight};\"\r\n\t>\r\n\t\t<a href=\"https://PeerPiper.io\" target=\"_blank\" rel=\"noreferrer\">\r\n\t\t\t<div class=\"actions logo\">\r\n\t\t\t\t<Logo />\r\n\t\t\t</div></a\r\n\t\t>\r\n\t\t<div class=\"url-input-container\">\r\n\t\t\t<input\r\n\t\t\t\tclass=\"url\"\r\n\t\t\t\t{placeholder}\r\n\t\t\t\ton:focus={() => (focused = true)}\r\n\t\t\t\ton:blur={() => (focused = false)}\r\n\t\t\t\tbind:value={inputUrl}\r\n\t\t\t\ton:input={saveInputURL}\r\n\t\t\t/>\r\n\t\t\t<span class=\"green-line\" />\r\n\t\t</div>\r\n\t\t<div class=\"actions\">\r\n\t\t\t{#if wallet?.address || inputUrl}\r\n\t\t\t\t<div\r\n\t\t\t\t\ttransition:fade={{ delay: 100, duration: 100 }}\r\n\t\t\t\t\tclass={!wallet?.keepPopup ? 'action dim' : 'action'}\r\n\t\t\t\t>\r\n\t\t\t\t\t<IconButton icon={popupIcon} on:click={togglePopup} />\r\n\t\t\t\t</div>\r\n\t\t\t{/if}\r\n\r\n\t\t\t<div\r\n\t\t\t\tclass={data?.loading\r\n\t\t\t\t\t? 'action dim'\r\n\t\t\t\t\t: 'action' && wallet?.address\r\n\t\t\t\t\t? ' connected '\r\n\t\t\t\t\t: ' disconnected '}\r\n\t\t\t>\r\n\t\t\t\t<IconButton\r\n\t\t\t\t\ticon={connectionIcon}\r\n\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\twallet?.address ? disconnect() : connect();\r\n\t\t\t\t\t}}\r\n\t\t\t\t\t><span class={wallet?.address ? ' connected ' : ' disconnected '}>\r\n\t\t\t\t\t\t{data.loading || !src ? 'Loading...' : 'Load'}\r\n\t\t\t\t\t</span></IconButton\r\n\t\t\t\t>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div\r\n\t\tclass=\"iframe\"\r\n\t\tstyle=\"height: calc({iframeParentHeight}px + 18px)\"\r\n\t\tbind:offsetWidth={iframeOffsetWidth}\r\n\t>\r\n\t\t<iframe\r\n\t\t\ttitle=\"Web Wallet\"\r\n\t\t\tbind:this={iframe}\r\n\t\t\t{src}\r\n\t\t\tallow=\"clipboard-read 'self' 'src'; clipboard-write 'self' 'src';\"\r\n\t\t/>\r\n\t\t<!-- allow=\"clipboard-read 'self' 'src' {src}; clipboard-write 'self' 'src' {src};\" -->\r\n\t</div>\r\n</div>\r\n\r\n<style>\r\n\tdiv {\r\n\t\t--spacing: 1em;\r\n\t}\r\n\t.connector-container {\r\n\t\tpadding: 1.618em;\r\n\t}\r\n\tdiv {\r\n\t\t--background: #161616;\r\n\t}\r\n\t.top {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t}\r\n\tiframe {\r\n\t\tborder: none;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\t.iframe {\r\n\t\tdisplay: flex;\r\n\t\theight: 100%;\r\n\t}\r\n\t.logo {\r\n\t\tflex: 0 0 auto;\r\n\t\tposition: relative;\r\n\t\topacity: 1;\r\n\t\theight: 100%;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tpadding: calc(var(--spacing) / 2);\r\n\t}\r\n\r\n\t.url {\r\n\t\tpadding: var(--spacing);\r\n\t\tpadding-right: 0;\r\n\t\tflex: 1 1 0;\r\n\t\tmin-width: 0;\r\n\t\toutline: none;\r\n\t\tbackground-color: var(--background);\r\n\t}\r\n\r\n\t.green-line {\r\n\t\tborder-bottom: 4px solid #0eff02;\r\n\t\tmargin-left: var(--spacing);\r\n\t\tflex: 1;\r\n\t\tposition: relative;\r\n\t\ttop: -8px;\r\n\t}\r\n\r\n\t.actions {\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t.actions:last-child {\r\n\t\tpadding-right: calc(var(--spacing) / 2);\r\n\t}\r\n\r\n\t.action.dim {\r\n\t\topacity: 0.9;\r\n\t\tcolor: #e0f7fa;\r\n\t}\r\n\r\n\t.connected {\r\n\t\tcolor: greenyellow;\r\n\t\ttext-shadow: 1px 1px 3px black;\r\n\t}\r\n\r\n\t.disconnected {\r\n\t\tcolor: #e0f7fa;\r\n\t\ttext-shadow: 1px 1px 3px black;\r\n\t}\r\n\r\n\t.url-input-container {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\tinput {\r\n\t\tflex: 1 1 0;\r\n\t\tcolor: whitesmoke;\r\n\t\tbackground: none;\r\n\t\tborder: none;\r\n\t\tmargin: 0;\r\n\t\tpadding: 0;\r\n\t\tfont-size: 0.95em;\r\n\t\tmin-width: 15ch;\r\n\t}\r\n</style>\r\n","<script>\r\n\timport '../app.css';\r\n\r\n\timport { onMount } from 'svelte';\r\n\timport MenuWrapper from './MenuWrapper.svelte';\r\n\timport ConnectorInside from './ConnectorInside.svelte';\r\n\r\n\texport let inputUrl;\r\n\texport let wallet;\r\n\r\n\tlet mounted;\r\n\r\n\tonMount(() => {\r\n\t\tmounted = true;\r\n\t});\r\n</script>\r\n\r\n{#if mounted}\r\n\t<!-- <Connector bind:wallet {inputUrl} /> -->\r\n\t<MenuWrapper let:openNav let:hideNav>\r\n\t\t<ConnectorInside bind:wallet {inputUrl} show={openNav} hide={hideNav} />\r\n\t</MenuWrapper>\r\n{/if}\r\n","<script lang=\"ts\">\r\n\t// svelte stuff\r\n\timport { fade } from 'svelte/transition';\r\n\timport { draggable } from 'svelte-drag';\r\n\r\n\timport { connectToChild } from 'penpal';\r\n\timport IconButton from './components/WalletSelectorIcons.svelte';\r\n\timport Logo from './assets/Logo.svelte';\r\n\r\n\texport let wallet; // portal to the wallet\r\n\texport let inputUrl = 'http://localhost:8089/'; // pick better default\r\n\tlet src = inputUrl;\r\n\r\n\tlet placeholder = 'Enter Wallet Url';\r\n\tlet child;\r\n\tlet iframe;\r\n\tlet focused;\r\n\r\n\t// flex dimensions\r\n\tlet topOffsetHeight, topOffsetWidth;\r\n\tlet iframeParentHeight;\r\n\tlet iframeParentWidth;\r\n\r\n\tconst data = {\r\n\t\tloading: true // load right away\r\n\t};\r\n\r\n\tasync function handleIframeLoad() {\r\n\t\tdata.loading = false;\r\n\t\tconst connection = connectToChild({\r\n\t\t\t// The iframe to which a connection should be made.\r\n\t\t\tiframe,\r\n\t\t\t// Methods the parent is exposing to the child.\r\n\t\t\tmethods: {\r\n\t\t\t\tsetIframeParentHeight(height) {\r\n\t\t\t\t\tiframeParentHeight = height;\r\n\t\t\t\t},\r\n\t\t\t\tsetIframeParentWidth(width) {\r\n\t\t\t\t\tconsole.log('Rx width', width);\r\n\t\t\t\t\tiframeParentWidth = width;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\twallet = await connection.promise;\r\n\t\treturn wallet;\r\n\t}\r\n\r\n\tconst connect = () => {\r\n\t\tsrc = '';\r\n\t\tsrc = inputUrl;\r\n\t\tdata.loading = true;\r\n\t};\r\n\r\n\tconst disconnect = () => wallet.disconnect();\r\n\tconst togglePopup = () => window.open(inputUrl);\r\n\r\n\tfunction handleKeydown(event) {\r\n\t\tif (event.key === 'Enter' && focused) connect();\r\n\t}\r\n\r\n\t$: iframe && iframe.addEventListener('load', handleIframeLoad);\r\n\t$: popupIcon = wallet?.keepPopup ? 'close' : 'launch';\r\n\t$: connectionIcon = wallet?.address ? 'unplug' : 'plug';\r\n</script>\r\n\r\n<svelte:window on:keydown={handleKeydown} />\r\n\r\n<div\r\n\tclass=\"url-input\"\r\n\tuse:draggable\r\n\tstyle=\"height: calc(var(--spacing) * 2 + {topOffsetHeight}px + {iframeParentHeight}px + 2px);\r\n\t--url-input-width: calc(var(--spacing) * 2 + {iframeParentWidth}px + 2px);\r\n\t--url-input-min-width: {topOffsetWidth}px;\r\n\t\"\r\n>\r\n\t<div\r\n\t\tclass=\"top\"\r\n\t\tbind:offsetHeight={topOffsetHeight}\r\n\t\tbind:offsetWidth={topOffsetWidth}\r\n\t\tstyle=\"--topOffsetHeight: {topOffsetHeight};\"\r\n\t>\r\n\t\t<a href=\"https://PeerPiper.io\" target=\"_blank\" rel=\"noreferrer\">\r\n\t\t\t<div class=\"actions logo\">\r\n\t\t\t\t<Logo />\r\n\t\t\t</div></a\r\n\t\t>\r\n\t\t<div class=\"url-input-container\">\r\n\t\t\t<input\r\n\t\t\t\tclass=\"url\"\r\n\t\t\t\t{placeholder}\r\n\t\t\t\ton:focus={() => (focused = true)}\r\n\t\t\t\ton:blur={() => (focused = false)}\r\n\t\t\t\tbind:value={inputUrl}\r\n\t\t\t/>\r\n\t\t\t<span class=\"green-line\" />\r\n\t\t</div>\r\n\t\t<div class=\"actions\">\r\n\t\t\t{#if wallet?.address || inputUrl}\r\n\t\t\t\t<div\r\n\t\t\t\t\ttransition:fade={{ delay: 100, duration: 100 }}\r\n\t\t\t\t\tclass={!wallet?.keepPopup ? 'action dim' : 'action'}\r\n\t\t\t\t>\r\n\t\t\t\t\t<IconButton icon={popupIcon} on:click={togglePopup} />\r\n\t\t\t\t</div>\r\n\t\t\t{/if}\r\n\r\n\t\t\t<div\r\n\t\t\t\tclass={data?.loading\r\n\t\t\t\t\t? 'action dim'\r\n\t\t\t\t\t: 'action' && wallet?.address\r\n\t\t\t\t\t? ' connected '\r\n\t\t\t\t\t: ' disconnected '}\r\n\t\t\t>\r\n\t\t\t\t<IconButton\r\n\t\t\t\t\ticon={connectionIcon}\r\n\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\twallet?.address ? disconnect() : connect();\r\n\t\t\t\t\t}}\r\n\t\t\t\t\t><span class={wallet?.address ? ' connected ' : ' disconnected '}>\r\n\t\t\t\t\t\t{data.loading || !src ? 'Loading...' : 'Load'}\r\n\t\t\t\t\t</span></IconButton\r\n\t\t\t\t>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class=\"iframe\" style=\"height: {iframeParentHeight}px\">\r\n\t\t<iframe\r\n\t\t\ttitle=\"Web Wallet\"\r\n\t\t\tbind:this={iframe}\r\n\t\t\t{src}\r\n\t\t\tstyle=\"width: 100%; height: 100%;\"\r\n\t\t\tallow=\"clipboard-write 'self' {src}\"\r\n\t\t/>\r\n\t</div>\r\n</div>\r\n\r\n<style>\r\n\tdiv {\r\n\t\t--background: #161616;\r\n\t}\r\n\t.top {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\tiframe {\r\n\t\tborder: none;\r\n\t}\r\n\t.iframe {\r\n\t\tdisplay: flex;\r\n\t\theight: 100%;\r\n\t}\r\n\t.logo {\r\n\t\tflex: 0 0 auto;\r\n\t\tposition: relative;\r\n\t\topacity: 1;\r\n\t\theight: 100%;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tpadding: calc(var(--spacing) / 2);\r\n\t}\r\n\t.url-input {\r\n\t\tposition: fixed;\r\n\t\ttop: var(--spacing);\r\n\t\tright: var(--spacing);\r\n\t\tbackground: var(--background);\r\n\t\tborder: 0.5px solid #333;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: stretch;\r\n\t\tborder-radius: 8px;\r\n\t\t--url-input-max-width: 80vw;\r\n\t\tmax-width: var(--url-input-max-width);\r\n\t\tmax-height: 95vh;\r\n\t\twidth: min(var(--url-input-width), var(--url-input-max-width));\r\n\t\tmin-width: var(--url-input-min-width);\r\n\t\t--spacing: 1em;\r\n\t\tpadding: var(--spacing);\r\n\t\tfilter: drop-shadow(2px 4px 6px rgba(133, 133, 133, 0.5));\r\n\t}\r\n\t.url-input:hover {\r\n\t\tcursor: move;\r\n\t}\r\n\r\n\t.url {\r\n\t\tpadding: var(--spacing);\r\n\t\tpadding-right: 0;\r\n\t\tflex: 1 1 0;\r\n\t\tmin-width: 0;\r\n\t\toutline: none;\r\n\t\tbackground-color: var(--background);\r\n\t}\r\n\r\n\t.green-line {\r\n\t\tborder-bottom: 4px solid #0eff02;\r\n\t\tmargin-left: var(--spacing);\r\n\t\tflex: 1;\r\n\t\tposition: relative;\r\n\t\ttop: -8px;\r\n\t}\r\n\r\n\t.actions {\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t.actions:last-child {\r\n\t\tpadding-right: calc(var(--spacing) / 2);\r\n\t}\r\n\r\n\t.action.dim {\r\n\t\topacity: 0.9;\r\n\t\tcolor: #e0f7fa;\r\n\t}\r\n\r\n\t.connected {\r\n\t\tcolor: greenyellow;\r\n\t\ttext-shadow: 1px 1px 3px black;\r\n\t}\r\n\r\n\t.disconnected {\r\n\t\tcolor: #e0f7fa;\r\n\t\ttext-shadow: 1px 1px 3px black;\r\n\t}\r\n\r\n\t.url-input-container {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\tinput {\r\n\t\tflex: 1 1 0;\r\n\t\tcolor: whitesmoke;\r\n\t\tbackground: none;\r\n\t\tborder: none;\r\n\t\tmargin: 0;\r\n\t\tpadding: 0;\r\n\t\tfont-size: 0.95em;\r\n\t\tmin-width: 10ch;\r\n\t\tmax-width: 25vw;\r\n\t}\r\n</style>\r\n"],"names":["placeholder"],"mappings":"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"}